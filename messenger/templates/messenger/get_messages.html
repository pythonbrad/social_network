{% extends 'messenger/panel.html' %}
{% block column_contains %}
    <h1 class="title">
        Discussion with {{ user.username }} ({{ messages.paginator.count }})
    </h1>
    <a href="{% url 'user_details' user.pk %}" class="button is-link is-small">See the details</a>
    <a href="{% url 'send_message' user.pk %}" class="button is-primary is-small">Send message</a>
    <br/>.
    {% for message in messages %}
        <div class="message is-small {% if message.sender == request.user %}is-link{% else %}is-primary{% endif %}">
            <div class="message-header">
                <p>{{ message.sender }}</p>
                <p>(il y'a {{ message.date_created|timesince:datetime }})</p>
            </div>
            <div class="message-body">
                {{ message.contains }}
            </div>
        </div>
    {% empty %}
        <p>Nothing for the moment</p>
    {% endfor %}
    {% with messages as data_to_pagin %}
        {% include 'messenger/pagin.html' %}
    {% endwith %}
{% endblock %}